# Writeup for [Brainpan 1](https://tryhackme.com/room/brainpan)


```
set -gx IP 10.10.24.136
```


## Task 1: Deploy and compromise the machine

### Gain initial access

* Enumeration: `nmap -sV -A -Pn -oN nmap/initial $IP`
  * Port 9999: welcome to brainpan
  * Port 10000: SimpleHTTP
* enumerate http server
  * found `/bin`
  * found `brainpan.exe`
* fuzz the max bytesize
* use exploit.py to find exact length (with metasploits pattern_create and pattern_offset)
* exclude bad_chars like in previous rooms
* generate windows reverse shell


### Escalate your privileges to root

* generate linux reverse shell
* some enumeration `sudo -l`
* found anansi function with manual mode
* generate stabile shell `python -c "import pty; pty.spawn('/bin/bash')"`
* `sudo /home/anansi/bin/anansi_util manual bash`
* escape from manual and start root-bash `!/bin/bash`

